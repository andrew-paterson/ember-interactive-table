{"version":3,"file":"pagination-controls.js","sources":["../../../src/components/ember-interactive-table/pagination-controls.js"],"sourcesContent":["import { tracked } from '@glimmer/tracking';\nimport Component from '@glimmer/component';\nimport { guidFor } from '@ember/object/internals';\nimport { action } from '@ember/object';\nimport './pagination-controls.css';\n\nexport default class PaginationControls extends Component {\n  @tracked paginationLinks;\n  @tracked modelMetaData;\n\n  _uid = guidFor(this);\n\n  @action\n  updatePage(event) {\n    console.log(event.target.value);\n    this.args.page = event.target.value;\n  }\n\n  @action\n  updateSize(event) {\n    console.log(event.target.value);\n    this.args.size = event.target.value;\n  }\n\n  get paginationObject() {\n    var paginationLinks = this.args.paginationLinks;\n    if (!paginationLinks) {\n      return;\n    }\n    var paginationObject = {};\n    for (var key in paginationLinks) {\n      var val = paginationLinks[key];\n      var queryParamsString = val.split('?')[1];\n      var queryParams = queryParamsString.split('&');\n      paginationObject[key] = {};\n      queryParams.forEach(function (keyValuePair) {\n        const [param, value] = keyValuePair.split('=');\n        if (param === 'page%5Bnumber%5D') {\n          if (value) {\n            paginationObject[key].number = value;\n          }\n        }\n        if (param === 'page%5Bsize%5D') {\n          if (value) {\n            paginationObject.size = value;\n          }\n        }\n      });\n    }\n    return paginationObject;\n  }\n\n  get pageSize() {\n    var pageSize = parseInt(this.paginationObject.size);\n    var maxPageSize = this.args.modelMetaData.max_page_size;\n    var minPageSize = this.args.modelMetaData.min_page_size;\n    var pageSizeIsMax = this.args.modelMetaData.page_size_is_max;\n    var pageSizeIsMin = this.args.modelMetaData.page_size_is_min;\n    var final = {\n      current: pageSize,\n    };\n    if (pageSizeIsMax) {\n      final.nextUp = pageSize;\n    } else if (pageSize + 10 > maxPageSize) {\n      final.nextUp = maxPageSize;\n    } else {\n      final.nextUp = pageSize + 10;\n    }\n    if (pageSizeIsMin) {\n      final.nextDown = pageSize;\n    } else if (pageSize - 10 < minPageSize) {\n      final.nextDown = minPageSize;\n    } else {\n      final.nextDown = pageSize - 10;\n    }\n    return final;\n  }\n}\n"],"names":["PaginationControls","Component","g","prototype","tracked","i","void 0","_uid","guidFor","updatePage","event","console","log","target","value","args","page","n","action","updateSize","size","paginationObject","paginationLinks","key","val","queryParamsString","split","queryParams","forEach","keyValuePair","param","number","pageSize","parseInt","maxPageSize","modelMetaData","max_page_size","minPageSize","min_page_size","pageSizeIsMax","page_size_is_max","pageSizeIsMin","page_size_is_min","final","current","nextUp","nextDown","setComponentTemplate","TEMPLATE"],"mappings":"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"}